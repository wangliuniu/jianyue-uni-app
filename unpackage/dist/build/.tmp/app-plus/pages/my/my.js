(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my"],{"037e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"container"},[a("view",{staticClass:"top"},[a("view",{staticClass:"avatar-box"},[t.storageData.login?t._e():a("view",{staticClass:"card"},[t.storageData.login?t._e():a("image",{staticClass:"flower",attrs:{src:"../../static/flower.png"}}),t.storageData.login?t._e():a("span",{staticClass:"back"},[t._v("欢迎回来 ！")]),a("br")],1),t.storageData.login?t._e():a("image",{staticClass:"avatar1",attrs:{src:"../../static/default.png",mode:"scaleToFill"}}),t.storageData.login?a("image",{staticClass:"avatar",attrs:{src:t.storageData.avatar,mode:"scaleToFill"}}):t._e()]),a("view",{staticClass:"info-box"},[t.storageData.login?t._e():a("navigator",{staticClass:"on",attrs:{url:"../signin/signin"}},[t._v("点击登录")]),t.storageData.login?a("text",{staticClass:"setting-txt2"},[t._v(t._s(t.storageData.nickname))]):t._e(),t.storageData.login?a("navigator",{attrs:{url:"../setting/setting"}},[a("text",{staticClass:"setting-txt"},[t._v("个人设置")])]):t._e()],1)]),t.storageData.login?a("view",[a("scroll-view",{staticClass:"grace-tab-title grace-center",attrs:{"scroll-x":"true",id:"grace-tab-title"}},t._l(t.categories,function(e,i){return a("view",{key:i,class:[t.cateCurrentIndex==i?"grace-tab-current":""],attrs:{"data-cateid":e.cateid,"data-index":i,eventid:"170e7e91-0-"+i},on:{tap:t.tabChange}},[t._v(t._s(e.name))])})),a("view",{staticClass:"demo-content"},[0===t.cateCurrentIndex?a("view",{staticClass:"content"},[a("view",{staticClass:"grace-scroll-do grace-bg-white "},t._l(t.articles,function(e,i){return a("scroll-view",{key:i,staticClass:"grace-scroll-x",attrs:{"scroll-x":"","scroll-left":t.scrollIndex==i?180:0,"data-id":i,"scroll-with-animation":"true",eventid:"170e7e91-3-"+i},on:{touchstart:t.touchStart,touchend:t.touchEnd}},[a("view",{staticClass:"grace-items"},[a("view",{staticClass:"myarticle-list-box"},[a("text",{staticClass:" article-list",attrs:{eventid:"170e7e91-1-"+i},on:{tap:function(a){t.gotoDetail(e.id)}}},[t._v(t._s(e.title))]),a("view",{staticClass:"myarticle-list-small"},[a("view",{staticClass:" grace-text-small myarticle-list-text"},[t._v(t._s(e.createTime))])])])]),a("view",{staticClass:"grace-items btn",style:{width:i==t.deleteIndex?t.deleteBtnWidth+"px":t.btn2Width+"px"},attrs:{"data-id":i,eventid:"170e7e91-2-"+i},on:{tap:function(a){t.removeArticle(e.id)}}},[t._v("删除")])])}))]):t._e(),1===t.cateCurrentIndex?a("view",{staticClass:"content"},[a("view",{staticClass:"list1"},t._l(t.follows,function(e,i){return a("view",{key:i,staticClass:"list-item1"},[a("image",{staticClass:"avatar2",attrs:{src:e.avatar}}),a("text",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(e.nickname))])])}))]):t._e(),2===t.cateCurrentIndex?a("view",{staticClass:"content"},[a("view",{staticClass:"list"},t._l(t.likes,function(e,i){return a("view",{key:i,staticClass:"list-item-box"},[a("view",{staticClass:"list-item-small"},[a("text",{staticClass:"like-title",attrs:{eventid:"170e7e91-4-"+i},on:{tap:function(a){t.gotoDetail(e.aid)}}},[t._v(t._s(e.title))]),a("text",{staticClass:"like-nickname"},[t._v(t._s(e.nickname))])]),a("text",{staticClass:"like-nickname"},[t._v(t._s(e.createTime))])])}))]):t._e(),3===t.cateCurrentIndex?a("view",{staticClass:"content"},[a("text",[t._v("积分")])]):t._e()])],1):t._e()])},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"0666":function(t,e,a){"use strict";a.r(e);var i=a("2740"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"13b4":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,s=n(a("c757"));function n(t){return t&&t.__esModule?t:{default:t}}var r={components:{graceSwiper:s.default},data:function(){return{btn1Width:70,btn2Width:70,deleteBtnWidth:140,scrollIndex:-1,deleteIndex:-1,storageData:{userId:0,nickname:"",avatar:"",login:!1},categories:[{cateid:0,name:"文章"},{cateid:1,name:"关注"},{cateid:2,name:"收藏"},{cateid:3,name:"积分"}],cateCurrentIndex:0,articles:[],follows:[],likes:[]}},onLoad:function(){},onShow:function(){var e=this,a=this;this.getArticle();var i=t.getStorageSync("login_key");i?(this.storageData={login:i.login,nickname:i.nickname,avatar:i.avatar,userId:i.userId},t.request({url:this.apiServer+"/like/list",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},data:{uId:t.getStorageSync("login_key").userId},success:function(t){console.log(t.data.data),a.likes=t.data.data;for(var i=0;i<a.likes.length;i++)a.likes[i].createTime=e.handleTime(a.likes[i].createTime)}}),t.request({url:this.apiServer+"/follow/list",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},data:{fromUId:this.storageData.userId},success:function(t){a.follows=t.data.data}})):this.storageData={login:!1}},methods:{getArticle:function(){var e=this,a=this;t.request({url:this.apiServer+"/article/user",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},data:{uId:this.storageData.userId},success:function(t){a.articles=t.data.data;for(var i=0;i<a.articles.length;i++)a.articles[i].createTime=e.handleTime(a.articles[i].createTime)}})},removeArticle:function(e){var a=this;t.request({url:this.apiServer+"/article/delete/"+e,method:"GET",header:{"content-type":"application/json"},data:{},success:function(e){0===e.data.code&&(t.showToast({title:"删除成功"}),a.getArticle())}})},touchStart:function(t){x=t.mp.changedTouches[0].clientX,y=t.mp.changedTouches[0].clientY},touchEnd:function(t){if(x-=t.mp.changedTouches[0].clientX,y-=t.mp.changedTouches[0].clientY,!(Math.abs(x)<50)&&!(Math.abs(x)<Math.abs(y))){var e=t.currentTarget.dataset.id;e!=this.scrollIndex&&(i.scrollIndex=e)}},tabChange:function(t){var e=t.currentTarget.dataset.index;t.currentTarget.dataset.cateid;this.cateCurrentIndex=e,this.content=this.categories[e].name},handleTime:function(t){var e=new Date(t),a=e.getFullYear()+"-",i=e.getMonth()+1<10?"0"+(e.getMonth()+1)+"-":e.getMonth()+1+"-",s=e.getDate()<10?"0"+e.getDate()+" ":e.getDate()+" ",n=e.getHours()<10?"0"+e.getHours()+":":e.getHours()+":",r=e.getMinutes()<10?"0"+e.getMinutes()+":":e.getMinutes()+":",c=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+i+s+n+r+c},gotoDetail:function(e){t.navigateTo({url:"../article_detail/article_detail?aId="+e+"&userId="+this.storageData.userId})}}};e.default=r}).call(this,a("649d")["default"])},2740:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"graceSwiper",props:{swiperId:{type:String,default:""},items:{type:Array,default:function(){return[]}},indicatorDots:{type:Boolean,default:!0},interval:{type:Number,default:5e3},swiperHeight:{type:Number,default:100}},data:function(){return{runCount:0}}};e.default=i},2968:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("swiper",{staticClass:"grace-swiper",style:{height:t.swiperHeight+"upx"},attrs:{autoplay:"true","indicator-dots":t.indicatorDots,"indicator-color":"rgba(255, 255, 255, 1)","indicator-active-color":"#00B26A",interval:t.interval}},t._l(t.items,function(e,i){return a("swiper-item",{key:i,attrs:{mpcomid:"61cc05a6-0-"+i}},[a("navigator",{attrs:{url:e.path,"open-type":e.openType}},[a("image",{attrs:{src:e.imgUrl,id:t.swiperId+"-item-1",mode:"widthFix"}}),t.indicatorDots?t._e():a("view",{staticClass:"title"},[t._v(t._s(e.title))])])],1)}))],1)},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},6958:function(t,e,a){},"7ff1":function(t,e,a){},b860:function(t,e,a){"use strict";a("175f");var i=n(a("b0ce")),s=n(a("f85e"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},c757:function(t,e,a){"use strict";a.r(e);var i=a("2968"),s=a("0666");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("cfce");var r=a("2877"),c=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},cfce:function(t,e,a){"use strict";var i=a("7ff1"),s=a.n(i);s.a},e751:function(t,e,a){"use strict";a.r(e);var i=a("13b4"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},f85e:function(t,e,a){"use strict";a.r(e);var i=a("037e"),s=a("e751");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("f9b9");var r=a("2877"),c=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,"0ed186c2",null);e["default"]=c.exports},f9b9:function(t,e,a){"use strict";var i=a("6958"),s=a.n(i);s.a}},[["b860","common/runtime","common/vendor"]]]);